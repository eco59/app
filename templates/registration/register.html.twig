{% extends 'base.html.twig' %}

{% block title %}S'inscrire{% endblock %}

{% block importmap %}
    {{ importmap(['register']) }}
{% endblock %}

{% block body %}
<div class="d-flex justify-content-center min-vh">
    {{ form_start(registrationForm, {'attr': {'class': 'rounded text-center', 'style': 'max-width: 300px;'}}) }}
        <h1 class="mb-4 font-weight-bold">S'inscrire</h1>

        {{ form_errors(registrationForm) }}

        <div class="form-group mb-4">
            <label for="inputPseudo" class="form-label text-light">Pseudo :</label>
            {{ form_widget(registrationForm.pseudo, {
                'attr': {
                    'class': 'form-control bg-blue',
                    'id': 'inputPseudo',
                    'required': 'required'
                }
            }) }}
            <div>
                <p class="form-text">Le pseudo doit avoir entre 3 et 25 caractères.</p>
            </div>
        </div>
        
        <div class="form-group mb-4">
            <label for="inputEmail" class="form-label text-light">Email :</label>
            {{ form_widget(registrationForm.email, {
                'attr': {
                    'class': 'form-control bg-blue',
                    'id': 'inputEmail',
                    'required': 'required'
                }
            }) }}
        </div>

        <div class="form-group mb-4">
            <label for="inputPassword" class="form-label text-light">Mot de passe :</label>
            {{ form_widget(registrationForm.plainPassword, {
                'attr': {
                    'class': 'form-control bg-blue',
                    'id': 'inputPassword',
                    'required': 'required'
                }
            }) }}
            <div>
                <p class="form-text">Le mot de passe doit contenir au moins une majuscule, une minuscule, un chiffre et un caractère spécial.</p>
                <p class="form-text">Statut du mot de passe : <span id="entropy" class="text-red">Invalide</span></p>
            </div>
        </div>

        <div class="form-group mb-4">
            {{ form_widget(registrationForm.agreeTerms, {
                'attr': {
                    'class': 'form-check-input'
                }
            }) }}
            <label for="agreeTerms" class="form-check-label text-light">J'accepte les termes et conditions</label>
        </div>

        <button type="submit" class="btn btn-lg w-100 bg-pink text-light mb-4 mt-3">M'inscrire</button>
        <p>Déjà inscrit(e) ? <a href="{{ path('app_login') }}" class="text-light">Connexion</a></p>
    {{ form_end(registrationForm) }}
</div>
{% endblock %}

